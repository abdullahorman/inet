%description:
Test int128 class

%includes:
#include "int128.h"

%global:

static void compare(int128 a, int128 b)
{
    if (a != b)
        ev << "(a=" << a.toLongDouble() << "), (b=" << b.toLongDouble() << ")\n";
    if (a == b)
        ev << "a == b\n";
    if (a < b)
        ev << "a < b\n";
    if (a > b)
        ev << "a > b\n";
}

%activity:

ev << "BEGIN\n";
compare(-int128(0u), int128(0u));
compare(int128(9u)*int128(7u), int128(63));
compare((int128(9u))*(int128(7u)<<64u), int128(63u)<<64u);
compare((int128(9u)<<32u)*(int128(7u)<<32u), int128(63u)<<64u);
compare((int128(9u)<<64u)*(int128(7u)), int128(63u)<<64u);
compare((int128(9u)<<62u)*(int128(7u)), int128(63u)<<62u);
compare((int128(9u))*(int128(7u)<<62u), int128(63u)<<62u);
compare(-int128(5), int128(-5));
compare(-(int128(1)<<64u), (-int128(1))<<64u);
compare((-(int128(12342)<<64u)) + (int128(12342)<<64u), int128(0));
compare(int128(1534) * int128(323412341l) / int128(1534), int128(323412341l));
compare(int128(65536) * int128(65536) * int128(65536) * int128(65536), int128(1)<<64u);
ev << "END\n";

%contains: stdout
BEGIN
a == b
a == b
a == b
a == b
a == b
a == b
a == b
a == b
a == b
a == b
a == b
a == b
END
